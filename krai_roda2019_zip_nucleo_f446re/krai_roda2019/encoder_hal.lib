https://os.mbed.com/users/calmantara186/code/encoder_hal/#1c05321d03a4
